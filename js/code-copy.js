REDEFINE.initCodeCopy=()=>{HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},document.querySelectorAll("figure.highlight").forEach(e=>{var t=document.createElement("div"),t=(e.wrap(t),t.classList.add("highlight-container"),t.insertAdjacentHTML("beforeend",'<div class="copy-btn"><i class="fa-solid fa-copy"></i></div>'),e.parentNode.querySelector(".copy-btn"));t.addEventListener("click",e=>{var e=e.currentTarget,t=[...e.parentNode.querySelectorAll(".code .line")].map(e=>e.innerText).join("\n"),a=document.createElement("textarea"),n=(a.style.top=window.scrollY+"px",a.style.position="absolute",a.style.opacity="0",a.readOnly=!0,a.value=t,document.body.append(a),document.getSelection()),o=0<n.rangeCount&&n.getRangeAt(0),t=(a.select(),a.setSelectionRange(0,t.length),a.readOnly=!1,document.execCommand("copy"));e.querySelector("i").className=t?"fas fa-check":"fas fa-times",a.blur(),e.blur(),o&&(n.removeAllRanges(),n.addRange(o)),document.body.removeChild(a)}),t.addEventListener("mouseleave",e=>{setTimeout(()=>{e.target.querySelector("i").className="fas fa-copy"},300)})})};